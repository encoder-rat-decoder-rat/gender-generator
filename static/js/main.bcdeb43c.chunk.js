(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{256:function(e){e.exports=JSON.parse('{"frames":{"shoe":{"frame":{"x":0,"y":0,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"robot":{"frame":{"x":200,"y":0,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"lips":{"frame":{"x":400,"y":0,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"ear":{"frame":{"x":600,"y":0,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"phone":{"frame":{"x":800,"y":0,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"computer":{"frame":{"x":1000,"y":0,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"clouds":{"frame":{"x":1200,"y":0,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"flowers":{"frame":{"x":1400,"y":0,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"tie":{"frame":{"x":0,"y":200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"tree":{"frame":{"x":200,"y":200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"purse":{"frame":{"x":400,"y":200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"mail":{"frame":{"x":600,"y":200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"fire":{"frame":{"x":800,"y":200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"snail":{"frame":{"x":1000,"y":200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"house":{"frame":{"x":1200,"y":200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"frog":{"frame":{"x":1400,"y":200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"mushroom":{"frame":{"x":0,"y":400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"butterfly":{"frame":{"x":200,"y":400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"crown":{"frame":{"x":400,"y":400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"wave":{"frame":{"x":600,"y":400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"bra":{"frame":{"x":800,"y":400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"binder":{"frame":{"x":1000,"y":400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"bone":{"frame":{"x":1200,"y":400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"mouse":{"frame":{"x":1400,"y":400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"leftEarring":{"frame":{"x":0,"y":600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"pet":{"frame":{"x":200,"y":600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"leo":{"frame":{"x":400,"y":600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"pisces":{"frame":{"x":600,"y":600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"scorpio":{"frame":{"x":800,"y":600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"virgo":{"frame":{"x":1000,"y":600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"libra":{"frame":{"x":1200,"y":600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"capricorn":{"frame":{"x":1400,"y":600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"bunny":{"frame":{"x":0,"y":800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"chicken":{"frame":{"x":200,"y":800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"gemini":{"frame":{"x":400,"y":800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"sagittaruis":{"frame":{"x":600,"y":800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"aquarius":{"frame":{"x":800,"y":800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"aries":{"frame":{"x":1000,"y":800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"cancer":{"frame":{"x":1200,"y":800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"hourglass":{"frame":{"x":1400,"y":800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"bubble":{"frame":{"x":0,"y":1000,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"sun":{"frame":{"x":200,"y":1000,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"heart":{"frame":{"x":400,"y":1000,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"ghost":{"frame":{"x":600,"y":1000,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"skull":{"frame":{"x":800,"y":1000,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"sparkles":{"frame":{"x":1000,"y":1000,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"dolphin":{"frame":{"x":1200,"y":1000,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"moon":{"frame":{"x":1400,"y":1000,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"tv":{"frame":{"x":0,"y":1200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"coffee":{"frame":{"x":200,"y":1200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"rightEar":{"frame":{"x":400,"y":1200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"rightEarring":{"frame":{"x":600,"y":1200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"chat":{"frame":{"x":800,"y":1200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"plus":{"frame":{"x":1000,"y":1200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"trash":{"frame":{"x":1200,"y":1200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"document":{"frame":{"x":1400,"y":1200,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"folder":{"frame":{"x":0,"y":1400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"floppy":{"frame":{"x":200,"y":1400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"calendar":{"frame":{"x":400,"y":1400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"cursor":{"frame":{"x":600,"y":1400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"rightEyebrow":{"frame":{"x":800,"y":1400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"eyeOpen":{"frame":{"x":1000,"y":1400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"eyePartial":{"frame":{"x":1200,"y":1400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"eyelashes":{"frame":{"x":1400,"y":1400,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"cacti":{"frame":{"x":0,"y":1600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"hand":{"frame":{"x":200,"y":1600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"leftEyebroe":{"frame":{"x":400,"y":1600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"equal":{"frame":{"x":600,"y":1600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"down":{"frame":{"x":800,"y":1600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"at":{"frame":{"x":1000,"y":1600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"share":{"frame":{"x":1200,"y":1600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"download":{"frame":{"x":1400,"y":1600,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"notEqual":{"frame":{"x":0,"y":1800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"x":{"frame":{"x":200,"y":1800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"clock":{"frame":{"x":400,"y":1800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"dialog":{"frame":{"x":600,"y":1800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"scissors":{"frame":{"x":800,"y":1800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"wrench":{"frame":{"x":1000,"y":1800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"door":{"frame":{"x":1200,"y":1800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}},"target":{"frame":{"x":1400,"y":1800,"w":200,"h":200},"spriteSourceSize":{"x":0,"y":0,"w":200,"h":200},"rotated":false,"trimmed":false,"sourceSize":{"w":200,"h":200}}},"meta":{"scale":1}}')},307:function(e,r,t){e.exports=t(340)},309:function(e,r,t){},324:function(e,r){},329:function(e,r){},330:function(e,r){},338:function(e,r){},340:function(e,r,t){"use strict";t.r(r);var i=t(12),a=t.n(i),o=t(19),s=(t(309),t(35)),n=t(237),c=t(238),h=t(190),l=t.n(h),f=t(10),d=t(20),u=t(132),w=t(131),m="// Based on Waterdrop shader from https://codepen.io/stefanweck/pen/Vbgeax\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float uThreshold;\n\nvoid main(void) {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.a = step(uThreshold, color.a);\n    gl_FragColor = color;\n}",S=function(e){Object(u.a)(t,e);var r=Object(w.a)(t);function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2;return Object(f.a)(this,t),(e=r.call(this,s.d.defaulVertexSrc,m))._threshold=i,e.uniforms.uThreshold=e._threshold,e}return Object(d.a)(t,[{key:"threshold",set:function(e){this._threshold=e,this.uniforms.uThreshold=e},get:function(){return this._threshold}}]),t}(s.d),p=t(27),x=t(6),y=t(191),z=t(140),v=(t(0),t(339),t(192)),g="".concat("/gender-generator","/tjfs-facemesh_1_default_1/model.json"),b="".concat("/gender-generator","/tfjs-model_iris_1_default_2/model.json"),T={468:[.576,.426],469:[.567,.425],470:[.578,.416],471:[.586,.427],472:[.574,.436],473:[.418,.427],474:[.432,.426],475:[.417,.414],476:[.404,.429],477:[.42,.44]};for(var C in T)y.UV_COORDS[C]=T[C];function O(e){var r=e.topLeft,t=e.bottomRight;return{width:t[0]-r[0],height:t[1]-r[1]}}function E(e,r){var t=[];if(r){var i=O(r.boundingBox),a=i.width,o=i.height,s=Math.max(e.renderer.width/a,e.renderer.height/o);t=[a*s,o*s]}else t=[e.renderer.width,e.renderer.height];return t}function _(e,r,t){return function(e,r){var t=Object(x.a)(e,2),i=t[0],a=t[1],o=Object(x.a)(r,2);return[i*o[0],a*o[1]]}(r?function(e,r){var t=Object(x.a)(e,2),i=t[0],a=t[1],o=O(r),s=o.width,n=o.height;return[(i-r.topLeft[0])/s,(a-r.topLeft[1])/n]}(r.scaledMesh[e],r.boundingBox):y.UV_COORDS[e],t)}function k(e,r,t,i){var a,o=(new s.e).beginFill(16777215*i()).drawCircle(0,0,r).endFill();(a=o.position).set.apply(a,Object(p.a)(e));var n=t._frameKeys[Math.round((t._frameKeys.length-1)*i())],c=t.textures[n],h=new s.h(c);return h.anchor.set(.5,.5),h.position.set(o.x,o.y),h.finalScale=1.1*r/Math.min(c.width,c.height),h.scale.set(h.finalScale),h.circle=o,o.icon=h,[o,h]}function M(e){var r=e.app,t=e.faceContainer,i=e.featureContainer,a=e.prediction,o=E(r,a);t.pivot.set(t.pivot.x-.1*(t.pivot.x-o[0]/2),t.pivot.y-.1*(t.pivot.y-o[1]/2)),t.position.set(t.position.x-.1*(t.position.x-r.renderer.width/2),t.position.y-.1*(t.position.y-r.renderer.height/2));var s=function(e){var r=i.getChildByName(e);e.includes("silhouette")||z.MESH_ANNOTATIONS[e].forEach((function(e,t){var i=r.getChildAt(t),s=_(e,a,o);i.position.set(i.position.x-.1*(i.position.x-s[0]),i.position.y-.1*(i.position.y-s[1])),i.icon.position.set(i.x,i.y)}))};for(var n in z.MESH_ANNOTATIONS)s(n);var c=t.getLocalBounds(),h=c.width,l=c.height,f=1.05*Math.min(r.renderer.width/h,r.renderer.height/l);t.scale.set(t.scale.x-.1*(t.scale.x-f))}function j(e){var r=e.app,t=e.seededRandom,i=e.sizeFactor,a=e.spritesheet,o=e.faceContainer,n=e.featureContainer,c=e.iconContainer,h=e.prediction,l=E(r,h);for(var f in o.pivot.set(l[0]/2,l[1]/2),o.position.set(r.renderer.width/2,r.renderer.height/2),z.MESH_ANNOTATIONS)f.includes("silhouette")||function(){var e=new s.b;e.name=f;var r=new s.b;r.name="".concat(f,"_icons"),z.MESH_ANNOTATIONS[f].forEach((function(o,s){var n=_(o,h,l),c=t()*i,f=k(n,c,a,t),d=Object(x.a)(f,2),u=d[0],w=d[1];c<i/3&&(w.visible=!1),u.name=s,w.name=s,e.addChild(u),r.addChild(w)})),r.position=e.position,r.pivot=e.pivot,r.scale=e.scale,r.rotation=e.rotation,n.addChild(e),c.addChild(r)}();var d=o.getLocalBounds(),u=d.width,w=d.height,m=1.05*Math.min(r.renderer.width/u,r.renderer.height/w);o.scale.set(m)}var F=null;function N(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=4;break}return e.next=3,v.b(v.a.mediapipeFacemesh,{shouldLoadIrisModel:!0,maxFaces:1,modelUrl:g,irisModelUrl:b});case 3:F=e.sent;case 4:return e.abrupt("return",F.estimateFaces({input:r,predictIrises:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,r,t){var i=[255*e,255*r,255*t].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*i[0]+.7152*i[1]+.0722*i[2]}function L(e,r){var t=I(e[0],e[1],e[2]),i=I(r[0],r[1],r[2]);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function R(){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(a.a.mark((function e(){var r,t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}});case 3:return r=e.sent,t=document.createElement("video"),e.next=7,new Promise((function(e,i){t.addEventListener("loadedmetadata",Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.play();case 2:e();case 3:case"end":return r.stop()}}),r)})))),t.srcObject=r}));case 7:return e.abrupt("return",t);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("Cannot access a webcam: ",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var B=t(257);function U(e){e.scaleTo=new s.g(e.scale.x,e.scale.y),e.positionTo=new s.g(e.position.x,e.position.y),e.rotationTo=e.rotation}function Y(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object(B.a)({positionX:.1,positionY:.1,scaleX:.1,scaleY:.1,rotation:.1},r);e.position.set(e.position.x-(e.position.x-e.positionTo.x)*t.positionX,e.position.y-(e.position.y-e.positionTo.y)*t.positionY),e.scale.set(e.scale.x-(e.scale.x-e.scaleTo.x)*t.scaleX,e.scale.y-(e.scale.y-e.scaleTo.y)*t.scaleY),e.rotation=e.rotation-(e.rotation-e.rotationTo)*t.rotation}function V(e){e.position.set(e.positionTo.x,e.positionTo.y),e.scale.set(e.scaleTo.x,e.scaleTo.y),e.rotation=e.rotationTo}function D(e,r,t){var i=new s.e;i.beginFill(16777215).drawEllipse(0,0,60,30).endFill(),i.position.set(e,r),i.rotation=t,U(i);var a=new s.e;a.lineStyle({width:2,color:0,alignment:0}).drawEllipse(0,0,60,30);var o=new s.e;o.beginFill(0).drawEllipse(0,0,60,30);var n=new s.e;return n.beginFill(21845).drawCircle(0,0,15).endFill(),U(n),i.addChild(a,n,o),i.mask=o,i.iris=n,i.outline=a,i}function H(e,r){e.rotationTo=Math.PI/3*r()-Math.PI/6}function q(e,r,t,i,a,o){var s=.4*o()-.2;e.scaleTo.x=1+Math.abs(s),r.scaleTo.x=1+s,r.positionTo.x=300*s,t.scaleTo.x=1-s,t.positionTo.x=300*s,i.positionTo.x=300*s-80,i.scaleTo.x=Math.min(1+2*s,1.05),a.positionTo.x=300*s+80,a.scaleTo.x=Math.min(1+-2*s,1.05)}function J(e,r){e.scaleTo.y=.1*r()+.5}function X(e,r,t){var i=100*t()-50,a=50*t()-25;e.positionTo.x=i,r.positionTo.x=i,e.positionTo.y=a,r.positionTo.y=a}var G=!1;function W(e){var r=new s.a({width:1e3,height:1e3,backgroundColor:16777215,sharedTicker:!0,antialias:!0});r.start();var t=new s.e;t.beginFill(13421772).drawEllipse(0,0,200,250).endFill(),t.position.set(r.renderer.width/2,r.renderer.height/2),U(t);var i=D(-80,-75,Math.PI/-12),a=D(80,-75,Math.PI/12),o=new s.e;o.beginFill(15658734).drawEllipse(0,20,20,40).endFill(),U(o);var n=new s.e;return n.beginFill(14496580).arc(0,0,100,0,Math.PI),n.position.set(0,100),n.scale.set(1,.5),U(n),t.addChild(n,o,i,a),t.position.set(500,500),U(n),r.stage.addChild(t),H(t,e),q(t,n,o,i,a,e),J(n,e),X(i.iris,a.iris,e),V(t),V(n),V(o),V(a),V(a.iris),V(i),V(i.iris),r.render(),s.j.shared.add((function(){var r=e();r>=.98&&H(t,e),r>=.96&&q(t,n,o,i,a,e),r>=.93&&r<.96&&J(n,e),r>=.89&&r<.93&&X(i.iris,a.iris,e),r>=.88&&r<.89&&!G&&function(e,r){e.scaleTo.y=.1,r.scaleTo.y=.1,G=!0,window.setTimeout((function(){e.scaleTo.y=1,r.scaleTo.y=1,G=!1}),400)}(i,a),Y(t),Y(n),Y(o),Y(a,{scaleY:.3}),Y(a.iris),Y(i,{scaleY:.3}),Y(i.iris)})),r.view}function K(e,r){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(a.a.mark((function e(r,t){var i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){r.toBlob((function(r){e(URL.createObjectURL(r))}),"image/png")}));case 2:i=e.sent,o=document.createElement("a"),document.body.appendChild(o),o.setAttribute("download",t+".png"),o.setAttribute("href",i),o.setAttribute("target","_blank"),o.click(),o.remove();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=t(256);s.l.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,s.l.PREFER_ENV=s.c.WEBGL_LEGACY,s.l.FILTER_RESOLUTION=2;for(var $,ee="".concat("/gender-generator","/sprite-sheet-white.png"),re=new URLSearchParams(window.location.search),te=parseInt(re.get("seed")),ie=parseInt(re.get("page")),ae=te&&ie?l()(te+ie):l()(),oe=re.has("page"),se=ie?2412:Number(re.get("w"))||window.innerWidth,ne=ie?3074:Number(re.get("h"))||window.innerHeight,ce=[ae(),ae(),ae()],he=!1;!he;)he=L(ce,$=[ae(),ae(),ae()])>=4.8;var le=s.m.rgb2hex(ce),fe=s.m.rgb2hex($),de=new s.a({width:se,height:ne,antialias:!0,backgroundColor:le,sharedTicker:!0,sharedLoader:!0,resizeTo:oe?void 0:window});function ue(){return(ue=Object(o.a)(a.a.mark((function e(){var r,t,i,h,l,f,d,u,w,m,p,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!oe){e.next=5;break}r=W(ae),e.next=15;break;case 5:return e.prev=5,e.next=8,R();case 8:r=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.info("Cannot use webcam for source, falling back to default",e.t0),r=W(ae);case 15:return t=.03*Math.min(de.renderer.width,de.renderer.height),i=s.f.shared.resources[ee].texture,h=new s.i(i,Z),e.next=20,Promise.all([new Promise((function(e){h.parse(e)}))]);case 20:if(l=new s.b,de.stage.addChild(l),f=new s.b,d=new s.b,l.addChild(f,d),(u=new s.k.BlurFilter).blur=t,u.quality=7,w=new S,m=new n.a(1.05,0),p=new c.a([[16777215,le],[0,fe]],.1),f.filters=[u,w,m,p],d.filters=[p],x=[],!r){e.next=38;break}return e.next=37,N(r);case 37:x=e.sent;case 38:j({app:de,seededRandom:ae,sizeFactor:t,spritesheet:h,faceContainer:l,featureContainer:f,iconContainer:d,prediction:x[0]}),de.render(),oe?K(de.view,te+"_"+ie):r&&s.j.shared.add(Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(r);case 2:(t=e.sent).length&&(M({app:de,faceContainer:l,featureContainer:f,prediction:t[0]}),de.render());case 4:case"end":return e.stop()}}),e)}))));case 41:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}window.app=de,de.start(),s.j.shared.remove(de.render,de),s.j.shared.fps=30,s.j.shared.start(),document.body.appendChild(de.view),s.f.shared.add(ee).load((function(){return ue.apply(this,arguments)}))}},[[307,1,2]]]);
//# sourceMappingURL=main.bcdeb43c.chunk.js.map